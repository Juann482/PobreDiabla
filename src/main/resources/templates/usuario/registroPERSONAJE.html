<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{usuario/template_user.html::head}"></head>

<body>
    <div class="container-fluid position-relative d-flex p-0">

        <div th:insert="~{usuario/template_user.html::spinner}"></div>
        <div th:insert="~{usuario/template_user.html::sidebar}"></div>

        <!-- Content Start -->
        <div class="content">

            <div th:insert="~{usuario/template_user.html::navbar}"></div>

            <div class="container-fluid pt-4 px-4">
                <div class="row vh-210 bg-secondary rounded justify-content-center mx-0">
                    <div class="col-lg-12">
                        <div class="bg-secondary rounded h-100 p-4">
                            <h6 class="h2 text-white-50">Registro de personajes</h6>

                            <form th:action="@{/usuario/PersonSave}" method="post" enctype="multipart/form-data">

                                <div class="row g-3">

                                    <!-- Nombre -->
                                    <div class="col-md-6">
                                        <label class="form-label medalla-plata">Nombre</label>
                                        <input type="text" class="form-control" id="nombre" name="nombre">
                                    </div>

                                    <!-- Selección del juego -->
                                    <div class="col-md-6">
                                        <label class="form-label medalla-plata">Juego</label>
                                        <select class="form-select" id="Juego" name="Juego.id" required>
                                            <option selected>Seleccione un juego</option>
                                            <option th:each="juego : ${juego}"
                                                    th:value="${juego.id}"
                                                    th:text="${juego.nombre}">
                                            </option>
                                        </select>
                                    </div>

                                    <!-- Atributos porcentuales -->

                                    <div class="col-md-4">
                                        <label class="form-label medalla-plata">
                                            Calidad (20%)
                                        </label>
                                        <input type="number" class="form-control" id="valor1" name="valor1"
                                               min="1" max="100" required>
                                    </div>

                                    <div class="col-md-4">
                                        <label class="form-label medalla-plata">
                                            Cuerpo (35%)
                                        </label>
                                        <input type="number" class="form-control" id="valor2" name="valor2"
                                               min="1" max="100" required>
                                    </div>

                                    <div class="col-md-4">
                                        <label class="form-label medalla-plata">
                                            Sexo (45%)
                                        </label>
                                        <input type="number" class="form-control" id="valor3" name="valor3"
                                               min="1" max="100" required>
											   <div id="emailHelp" class="form-text">(Sexo puro = + 65)</div>
                                    </div>

                                    <!-- Descripción -->
                                    <div class="col-md-12">
                                        <label class="form-label medalla-plata">Descripción</label>
                                        <input type="text" class="form-control" id="caracteristica" name="caracteristica">
                                    </div>

                                    <!-- Imagen -->
                                    <div class="mb-3 ">
                                        <label class="form-label medalla-plata">Foto del personaje</label>
                                        <input class="form-control bg-dark" type="file" id="img" name="img">
                                    </div>

                                    <div class="col-12 text-center">
                                        <button type="submit" class="btn btn-primary">Ingresar</button>
                                    </div>

                                </div><!-- row -->
                            </form>

                        </div><!-- card -->
                    </div>
                </div>
            </div>

            <div th:insert="~{usuario/template_user.html::footer}"></div>

        </div><!-- content -->
    </div>


	<!-- SWEETALERT2 VALIDACIÓN -->
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	
	<script th:if="${mensaje != null}">
	    let tipo = /*[[${mensaje}]]*/ '';

	    if (tipo === 'guardado') {
	        Swal.fire({
	            icon: "success",
	            title: "Personaje guardado",
	            text: "El personaje fue registrado correctamente.",
	            background: "#1e1e2f",
	            color: "white",
	            confirmButtonColor: "#0dcaf0"
	        });
	    }

	    if (tipo === 'editado') {
	        Swal.fire({
	            icon: "info",
	            title: "Personaje actualizado",
	            text: "Los datos se guardaron correctamente.",
	            background: "#1e1e2f",
	            color: "white",
	            confirmButtonColor: "#0dcaf0"
	        });
	    }

	    if (tipo === 'eliminado') {
	        Swal.fire({
	            icon: "warning",
	            title: "Personaje eliminado",
	            text: "El personaje fue removido correctamente.",
	            background: "#1e1e2f",
	            color: "white",
	            confirmButtonColor: "#0dcaf0"
	        });
	    }
	</script>

    <div th:insert="~{usuario/template_user.html::jsFiles}"></div>

	<div th:insert="~{usuario/template_user.html::sweetpositions}"></div>
</body>
</html>
