<head th:fragment="head">

	<meta charset="utf-8">
	<title>Shame</title>
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="" name="keywords">
	<meta content="" name="description">
	<!-- Favicon -->
	<link th:href="@{/images/Logo.png}" rel="icon">

	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Roboto:wght@500;700&display=swap"
		rel="stylesheet">

	<!-- Icons -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

	<!-- Libraries -->
	<link th:href="@{/lib/owlcarousel/assets/owl.carousel.min.css}" rel="stylesheet">
	<link th:href="@{/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css}" rel="stylesheet" />

	<!-- Bootstrap -->
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">

	<!-- Template Styles -->
	<link th:href="@{/css/style.css}" rel="stylesheet">
	<style>
		.text-oro {
			color: #ffd700 !important;
		}

		.text-plata {
			color: #c0c0c0 !important;
		}

		.text-bronce {
			color: #cd7f32 !important;
		}
	</style>
	<style>
		.modal.fade .modal-dialog {
			transform: translateY(20px);
			opacity: 0;
			transition: all 0.35s ease-out;
		}

		.modal.fade.show .modal-dialog {
			transform: translateY(0);
			opacity: 1;
		}

		.border-oro {
			border: 4px solid #ffd700;
		}

		.border-plata {
			border: 4px solid #c0c0c0;
		}

		.border-bronce {
			border: 4px solid #cd7f32;
		}
		.card-detalle {
		       background: #1e1e1e;
		       border-radius: 12px;
		       padding: 20px;
		       box-shadow: 0 0 25px rgba(255,255,255,0.05);
		       transition: 0.3s;
		   }
	</style>

	<style>
		.center {
			text-align: center;
		}

		.img-mini {
			width: 50px;
			height: 50px;
			object-fit: cover;
			border-radius: 50%;
			border: 2px solid #444;
			align-items: center;
		}

		.icon-link i {
			font-size: 1.5rem;
			transition: transform .2s;
		}

		.icon-link:hover i {
			transform: scale(1.2);
		}

		/* Oro */
		.medalla-oro {
			color: gold !important;
			filter: drop-shadow(0 0 6px gold);
			transition: transform .2s ease, filter .3s ease;
		}

		.medalla-oro:hover {
			transform: scale(1.15);
			filter: drop-shadow(0 0 12px gold);
		}

		/* Plata */
		.medalla-plata {
			color: silver !important;
			filter: drop-shadow(0 0 6px silver);
			transition: transform .2s ease, filter .3s ease;
		}

		.medalla-plata:hover {
			transform: scale(1.15);
			filter: drop-shadow(0 0 12px silver);
		}

		/* Bronce */
		.medalla-bronce {
			color: #cd7f32 !important;
			/* color bronce bonito */
			filter: drop-shadow(0 0 6px #cd7f32);
			transition: transform .2s ease, filter .3s ease;
		}

		.medalla-bronce:hover {
			transform: scale(1.15);
			filter: drop-shadow(0 0 12px #cd7f32);
		}

		/* ====== TEXTO CON BRILLO SEGÚN EL PUESTO ====== */

		.text-oro {
			color: gold !important;
			text-shadow: 0 0 6px gold;
		}

		.text-plata {
			color: silver !important;
			text-shadow: 0 0 6px silver;
		}

		.text-bronce {
			color: #cd7f32 !important;
			text-shadow: 0 0 6px #cd7f32;
		}
	</style>
</head>

<div th:fragment="spinner">
	<div id="spinner"
		class="show bg-dark position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
		<div class="spinner-border text-info" style="width: 3rem; height: 3rem;" role="status"></div>
	</div>
</div>

<div th:fragment="sidebar">
	<div class="sidebar pe-4 pb-3">
		<nav class="navbar bg-secondary navbar-dark">

			<a th:href="@{/usuario/Dashboard}" class="navbar-brand mx-4 mb-3 d-flex align-items-center">
				<img class="rounded-circle" th:src="@{/images/Logo.png}" alt="Logo" style="width: 40px; height: 40px;">
				<h3 class="text-danger"> Shame</h3>
			</a>

			<div class="d-flex align-items-center ms-4 mb-4">
				<div class="position-relative">
					<img class="rounded-circle" th:src="@{/img/user.jpg}" alt="" style="width: 40px; height: 40px;">
					<div
						class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1">
					</div>
				</div>
				<div class="ms-3">
					<h6 class="mb-0">Juanito</h6> <!-- Puedes poner th:text si quieres dinámico -->
					<span>Admin</span>
				</div>
			</div>

			<div class="navbar-nav w-100">
				<a th:href="@{/}" class="nav-item nav-link active">
					<i class="fa fa-tachometer-alt me-2"></i>Dashboard
				</a>

				<div class="nav-item dropdown">
					<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
						<i class="fa fa-laptop me-2"></i>Actividad
					</a>
					<div class="dropdown-menu bg-transparent border-0">
						<a th:href="@{/usuario/Juegos}" class="dropdown-item">Juegos</a>
						<a th:href="@{/usuario/Personajes}" class="dropdown-item">Personajes</a>
						<a th:href="@{/usuario/Correos}" class="dropdown-item">Correos</a>
					</div>
				</div>
				<div class="nav-item dropdown">
					<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
						<i class="fa fa-laptop me-2"></i>Formularios
					</a>
					<div class="dropdown-menu bg-transparent border-0">
						<a th:href="@{/usuario/JuegosRegistro}" class="dropdown-item">Registro de juegos</a>
						<a th:href="@{/usuario/PersonajeRegistro}" class="dropdown-item">Registro de personajes</a>
					</div>
				</div>
			</div>
		</nav>
	</div>
</div>

<div th:fragment="navbar">
	<nav class="navbar navbar-expand bg-secondary navbar-dark sticky-top px-4 py-0">
		<a href="index.html" class="navbar-brand d-flex d-lg-none me-4">
			<h2 class="text-info mb-0"><i class="fa fa-user-edit"></i></h2>
		</a>
		<a href="#" class="sidebar-toggler flex-shrink-0">
			<i class="fa fa-bars"></i>
		</a>
		<form class="d-none d-md-flex ms-4">
			<input class="form-control bg-dark border-0" type="search" placeholder="Buscar">
		</form>
		<div class="navbar-nav align-items-center ms-auto">
			<div class="nav-item dropdown">
				<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
					<i class="fa fa-envelope me-lg-2"></i>
					<span class="d-none d-lg-inline-flex">Mensajes</span>
				</a>
				<div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
					<a href="#" class="dropdown-item">
						<div class="d-flex align-items-center">
							<img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
							<div class="ms-2">
								<h6 class="fw-normal mb-0">Jhon send you a message</h6>
								<small>15 minutes ago</small>
							</div>
						</div>
					</a>
					<hr class="dropdown-divider">
					<a href="#" class="dropdown-item">
						<div class="d-flex align-items-center">
							<img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
							<div class="ms-2">
								<h6 class="fw-normal mb-0">Jhon send you a message</h6>
								<small>15 minutes ago</small>
							</div>
						</div>
					</a>
					<hr class="dropdown-divider">
					<a href="#" class="dropdown-item">
						<div class="d-flex align-items-center">
							<img class="rounded-circle" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
							<div class="ms-2">
								<h6 class="fw-normal mb-0">Jhon send you a message</h6>
								<small>15 minutes ago</small>
							</div>
						</div>
					</a>
					<hr class="dropdown-divider">
					<a href="#" class="dropdown-item text-center">See all message</a>
				</div>
			</div>
			<div class="nav-item dropdown">
				<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
					<i class="fa fa-bell me-lg-2"></i>
					<span class="d-none d-lg-inline-flex">Notificaciones</span>
				</a>
				<div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
					<a href="#" class="dropdown-item">
						<h6 class="fw-normal mb-0">Profile updated</h6>
						<small>15 minutes ago</small>
					</a>
					<hr class="dropdown-divider">
					<a href="#" class="dropdown-item">
						<h6 class="fw-normal mb-0">New user added</h6>
						<small>15 minutes ago</small>
					</a>
					<hr class="dropdown-divider">
					<a href="#" class="dropdown-item">
						<h6 class="fw-normal mb-0">Password changed</h6>
						<small>15 minutes ago</small>
					</a>
					<hr class="dropdown-divider">
					<a href="#" class="dropdown-item text-center">See all notifications</a>
				</div>
			</div>
			<div class="nav-item dropdown">
				<a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
					<img class="rounded-circle me-lg-2" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
					<span class="d-none d-lg-inline-flex">John Doe</span>
				</a>
				<div class="dropdown-menu dropdown-menu-end bg-secondary border-0 rounded-0 rounded-bottom m-0">
					<a href="#" class="dropdown-item">My Profile</a>
					<a href="#" class="dropdown-item">Settings</a>
					<a href="#" class="dropdown-item">Log Out</a>
				</div>
			</div>
		</div>
	</nav>
</div>
<div th:fragment="footer">
	<div class="container-fluid pt-4 px-4">
		<div class="bg-secondary rounded-top p-4">
			<div class="row">
				<div class="col-12 col-sm-6 text-center text-sm-start">
					&copy; <a href="#">Shame</a>, Todos los derechos reservados.
				</div>
				<div class="col-12 col-sm-6 text-center text-sm-end">
					<!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
					Diseñado por: <a href="https://htmlcodex.com">Anónimo</a>
					<br>Distributed By: <a href="https://themewagon.com" target="_blank">ThemeWagon</a>
				</div>
			</div>
		</div>
	</div>
</div>

<div th:fragment="jsFiles">

	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
	<script th:src="@{/lib/chart/chart.min.js}"></script>
	<script th:src="@{/lib/easing/easing.min.js}"></script>
	<script th:src="@{/lib/waypoints/waypoints.min.js}"></script>
	<script th:src="@{/lib/owlcarousel/owl.carousel.min.js}"></script>
	<script th:src="@{/lib/tempusdominus/js/moment.min.js}"></script>
	<script th:src="@{/lib/tempusdominus/js/moment-timezone.min.js}"></script>
	<script th:src="@{/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js}"></script>

	<!-- Template Javascript -->
	<script th:src="@{/js/main.js}"></script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			function actualizarFechaHora() {
				const ahora = new Date();
				const formatoVisible = ahora.toLocaleString('es-CO', {
					year: 'numeric',
					month: '2-digit',
					day: '2-digit',
					hour: '2-digit',
					minute: '2-digit',
					second: '2-digit'
				});

				document.getElementById('fecha-hora').textContent = formatoVisible;
				document.getElementById('fecha-hora-input').value = ahora.toISOString();
			}

			actualizarFechaHora();
			setInterval(actualizarFechaHora, 1000);
		});
	</script>
	//modal para detalles de personaje
	<script>
    function mostrarDetalles(btn) {

        const nombre = btn.getAttribute("data-nombre");
        const img = btn.getAttribute("data-img");
        const calificacion = btn.getAttribute("data-calificacion");
        const juego = btn.getAttribute("data-juego");
        const puesto = parseInt(btn.getAttribute("data-puesto"));
        const descripcion = btn.getAttribute("data-descripcion");

        document.getElementById("modalNombre").innerText = nombre;
        document.getElementById("modalImagen").src = img;
        document.getElementById("modalJuego").innerText = juego;
        document.getElementById("modalPuesto").innerText = puesto;
        document.getElementById("modalDescripcion").innerText = descripcion;

        document.getElementById("modalCalificacion").innerHTML = "⭐".repeat(calificacion);

        const nombreEl = document.getElementById("modalNombre");
        const juegoEl = document.getElementById("modalJuego");
        const puestoEl = document.getElementById("modalPuesto");
        const imagenEl = document.getElementById("modalImagen");
        const cardContenedor = document.getElementById("cardContenedor");

        // Limpiar clases anteriores
        nombreEl.className = "fw-bold";
        juegoEl.className = "";
        puestoEl.className = "";
        imagenEl.className = "img-fluid rounded mb-3";
        cardContenedor.style.border = "none";

        // Aplicación según puesto
        if (puesto === 1) {
            nombreEl.classList.add("text-oro");
            juegoEl.classList.add("text-oro");
            puestoEl.classList.add("text-oro");
            imagenEl.classList.add("border-oro");
            cardContenedor.style.border = "2px solid #ffd700";
        }
        else if (puesto === 2) {
            nombreEl.classList.add("text-plata");
            juegoEl.classList.add("text-plata");
            puestoEl.classList.add("text-plata");
            imagenEl.classList.add("border-plata");
            cardContenedor.style.border = "2px solid #c0c0c0";
        }
        else if (puesto === 3) {
            nombreEl.classList.add("text-bronce");
            juegoEl.classList.add("text-bronce");
            puestoEl.classList.add("text-bronce");
            imagenEl.classList.add("border-bronce");
            cardContenedor.style.border = "2px solid #cd7f32";
        }

        const modal = new bootstrap.Modal(document.getElementById("detallePersonajeModal"));
        modal.show();
    }
</script>


</div>